<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentine Week - Home</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/style.css" />
</head>
<body class="home-body bg-light">
  <div class="container py-5">
    <div class="text-center mb-5">
      <h1 class="display-4 text-danger fw-bold mb-3">💖 Valentine Week 💖</h1>
      <p class="lead text-muted">A romantic journey of love, one day at a time 🌸</p>
      <div class="progress mb-4" style="height: 20px;">
        <div id="unlock-progress" class="progress-bar bg-danger" role="progressbar" style="width: 0%"></div>
      </div>
      <p id="unlock-count" class="text-secondary">Day 0 of 8 unlocked</p>
      <div id="admin-badge" class="badge bg-danger d-none">Admin Mode</div>
    </div>

    <div class="row g-4 justify-content-center" id="days-grid">
      <div class="col-md-6 col-lg-3" data-day="rose" data-unlock="2026-02-07T00:00:00">
        <div class="card h-100 shadow-sm border-0 hover-card day-card">
          <div class="card-body text-center p-4">
            <div class="display-1 mb-3">🌹</div>
            <h5 class="card-title text-danger fw-bold">Rose Day</h5>
            <div class="lock-state text-muted fs-1">🔒</div>
            <div class="unlock-label small text-muted mt-2">Unlocks on Feb 7, 2026</div>
            <div class="unlock-countdown small text-muted mt-1">Opens in --</div>
            <a class="btn btn-danger btn-lg mt-3 day-link" data-href="/rose">Enter ❤️</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-3" data-day="propose" data-unlock="2026-02-08T00:00:00">
        <div class="card h-100 shadow-sm border-0 hover-card day-card">
          <div class="card-body text-center p-4">
            <div class="display-1 mb-3">💍</div>
            <h5 class="card-title text-danger fw-bold">Propose Day</h5>
            <div class="lock-state text-muted fs-1">🔒</div>
            <div class="unlock-label small text-muted mt-2">Unlocks on Feb 8, 2026</div>
            <div class="unlock-countdown small text-muted mt-1">Opens in --</div>
            <a class="btn btn-danger btn-lg mt-3 day-link" data-href="/propose">Enter ❤️</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-3" data-day="chocolate" data-unlock="2026-02-09T00:00:00">
        <div class="card h-100 shadow-sm border-0 hover-card day-card">
          <div class="card-body text-center p-4">
            <div class="display-1 mb-3">🍫</div>
            <h5 class="card-title text-danger fw-bold">Chocolate Day</h5>
            <div class="lock-state text-muted fs-1">🔒</div>
            <div class="unlock-label small text-muted mt-2">Unlocks on Feb 9, 2026</div>
            <div class="unlock-countdown small text-muted mt-1">Opens in --</div>
            <a class="btn btn-danger btn-lg mt-3 day-link" data-href="/chocolate">Enter ❤️</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-3" data-day="teddy" data-unlock="2026-02-10T00:00:00">
        <div class="card h-100 shadow-sm border-0 hover-card day-card">
          <div class="card-body text-center p-4">
            <div class="display-1 mb-3">🧸</div>
            <h5 class="card-title text-danger fw-bold">Teddy Day</h5>
            <div class="lock-state text-muted fs-1">🔒</div>
            <div class="unlock-label small text-muted mt-2">Unlocks on Feb 10, 2026</div>
            <div class="unlock-countdown small text-muted mt-1">Opens in --</div>
            <a class="btn btn-danger btn-lg mt-3 day-link" data-href="/teddy">Enter ❤️</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-3" data-day="promise" data-unlock="2026-02-11T00:00:00">
        <div class="card h-100 shadow-sm border-0 hover-card day-card">
          <div class="card-body text-center p-4">
            <div class="display-1 mb-3">🤝</div>
            <h5 class="card-title text-danger fw-bold">Promise Day</h5>
            <div class="lock-state text-muted fs-1">🔒</div>
            <div class="unlock-label small text-muted mt-2">Unlocks on Feb 11, 2026</div>
            <div class="unlock-countdown small text-muted mt-1">Opens in --</div>
            <a class="btn btn-danger btn-lg mt-3 day-link" data-href="/promise">Enter ❤️</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-3" data-day="hug" data-unlock="2026-02-12T00:00:00">
        <div class="card h-100 shadow-sm border-0 hover-card day-card">
          <div class="card-body text-center p-4">
            <div class="display-1 mb-3">🤗</div>
            <h5 class="card-title text-danger fw-bold">Hug Day</h5>
            <div class="lock-state text-muted fs-1">🔒</div>
            <div class="unlock-label small text-muted mt-2">Unlocks on Feb 12, 2026</div>
            <div class="unlock-countdown small text-muted mt-1">Opens in --</div>
            <a class="btn btn-danger btn-lg mt-3 day-link" data-href="/hug">Enter ❤️</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-3" data-day="kiss" data-unlock="2026-02-13T00:00:00">
        <div class="card h-100 shadow-sm border-0 hover-card day-card">
          <div class="card-body text-center p-4">
            <div class="display-1 mb-3">💋</div>
            <h5 class="card-title text-danger fw-bold">Kiss Day</h5>
            <div class="lock-state text-muted fs-1">🔒</div>
            <div class="unlock-label small text-muted mt-2">Unlocks on Feb 13, 2026</div>
            <div class="unlock-countdown small text-muted mt-1">Opens in --</div>
            <a class="btn btn-danger btn-lg mt-3 day-link" data-href="/kiss">Enter ❤️</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-3" data-day="valentine" data-unlock="2026-02-14T00:00:00">
        <div class="card h-100 shadow-sm border-0 hover-card day-card">
          <div class="card-body text-center p-4">
            <div class="display-1 mb-3">❤️</div>
            <h5 class="card-title text-danger fw-bold">Valentine's Day</h5>
            <div class="lock-state text-muted fs-1">🔒</div>
            <div class="unlock-label small text-muted mt-2">Unlocks on Feb 14, 2026</div>
            <div class="unlock-countdown small text-muted mt-1">Opens in --</div>
            <a class="btn btn-danger btn-lg mt-3 day-link" data-href="/valentine">Enter ❤️</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="floating-hearts" class="position-fixed top-0 start-0 w-100 h-100 pointer-events-none" style="z-index: 10;"></div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function createHeart() {
      const heart = document.createElement('div');
      heart.innerHTML = '❤️';
      heart.className = 'position-absolute fs-1';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animation = 'floatUp 3s ease-in-out forwards';
      document.getElementById('floating-hearts').appendChild(heart);
      setTimeout(() => heart.remove(), 3000);
    }
    setInterval(createHeart, 2000);

    function updateUnlocks() {
      const params = new URLSearchParams(window.location.search);
      const isAdmin = params.get('admin') === '5238';
      const adminBadge = document.getElementById('admin-badge');
      if (isAdmin) {
        adminBadge.classList.remove('d-none');
      }

      const cards = document.querySelectorAll('[data-day]');
      const now = new Date();
      let unlockedCount = 0;

      cards.forEach(card => {
        const unlockDate = new Date(card.getAttribute('data-unlock'));
        const isUnlocked = isAdmin || now >= unlockDate;
        const lockState = card.querySelector('.lock-state');
        const label = card.querySelector('.unlock-label');
        const countdown = card.querySelector('.unlock-countdown');
        const link = card.querySelector('.day-link');
        const href = link.getAttribute('data-href');

        if (isUnlocked) {
          unlockedCount += 1;
          lockState.textContent = '';
          label.textContent = isAdmin ? 'Unlocked (Admin)' : 'Unlocked';
          if (countdown) countdown.textContent = '';
          link.setAttribute('href', href);
          link.classList.remove('disabled');
        } else {
          link.removeAttribute('href');
          link.classList.add('disabled');
          if (countdown) {
            const diff = unlockDate - now;
            if (diff <= 0) {
              countdown.textContent = 'Unlocked!';
            } else {
              const totalSeconds = Math.floor(diff / 1000);
              const days = Math.floor(totalSeconds / 86400);
              const hours = Math.floor((totalSeconds % 86400) / 3600);
              const minutes = Math.floor((totalSeconds % 3600) / 60);
              const seconds = totalSeconds % 60;
              countdown.textContent = `Opens in ${days}d ${hours}h ${minutes}m ${seconds}s`;
            }
          }
        }
      });

      const progress = document.getElementById('unlock-progress');
      const countLabel = document.getElementById('unlock-count');
      const percent = Math.round((unlockedCount / 8) * 100);
      progress.style.width = percent + '%';
      countLabel.textContent = `Day ${unlockedCount} of 8 unlocked`;
    }

    updateUnlocks();
    setInterval(updateUnlocks, 1000);
  </script>
  <style>
    @keyframes floatUp {
      0% { transform: translateY(100vh) scale(0); opacity: 1; }
      100% { transform: translateY(-100px) scale(1); opacity: 0; }
    }
    .hover-card:hover { transform: translateY(-5px); transition: 0.3s; }
    .day-link.disabled { opacity: 0.6; pointer-events: none; }
  </style>
</body>
</html>
